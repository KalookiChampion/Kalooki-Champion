<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KALOOKI CHAMPION - Join Game</title>
  <link rel="icon" type="image/png" href="cards-jamaican/105_JOKER.png">
  <link rel="stylesheet" href="css/lobby.css">
</head>
<body>
  <div id="lobby-container">
    <div class="lobby-header">
      <h1>KALOOKI CHAMPION</h1>
      <p class="subtitle">Jamaican Card Game</p>
      <p class="game-info">13 Cards - 2 Jokers</p>
    </div>
    
    <div class="footer-credit">
      <p>Â© Designed by <span class="designer-name">Ginez</span></p>
    </div>

    <div id="name-section" class="lobby-section">
      <label for="playerName">Enter Your Name</label>
      <input type="text" id="playerName" maxlength="20" placeholder="Your name (max 20 chars)" autocomplete="off">
      <button id="btnConfirmName" class="btn-primary">Continue</button>
    </div>

    <div id="choice-section" class="lobby-section hidden">
      <div class="welcome-message">Welcome, <span id="displayName"></span>!</div>
      
      <div class="choice-buttons">
        <button id="btnCreateTable" class="btn-choice">
          <span class="btn-icon">ğŸ´</span>
          <span class="btn-text">Create Table</span>
          <span class="btn-desc">Host a new game</span>
        </button>
        
        <button id="btnJoinTable" class="btn-choice">
          <span class="btn-icon">ğŸ¤</span>
          <span class="btn-text">Join Table</span>
          <span class="btn-desc">Enter a room code</span>
        </button>
        
        <button id="btnPlayAlone" class="btn-choice">
          <span class="btn-icon">ğŸ¤–</span>
          <span class="btn-text">Play Solo</span>
          <span class="btn-desc">Play against bots</span>
        </button>
        
        <button id="btnDemoMode" class="btn-choice btn-demo">
          <span class="btn-icon">ğŸ‘ï¸</span>
          <span class="btn-text">Demo Mode</span>
          <span class="btn-desc">Watch 4 bots play</span>
        </button>
        
        <button id="btnSpectate" class="btn-choice btn-spectate">
          <span class="btn-icon">ğŸ“º</span>
          <span class="btn-text">Spectate Game</span>
          <span class="btn-desc">Watch a live game</span>
        </button>
      </div>
    </div>

    <div id="create-section" class="lobby-section hidden">
      <button class="btn-back" id="btnBackFromCreate">â† Back</button>
      <h2>Create a Table</h2>
      
      <div class="create-options">
        <label>How many human players?</label>
        <div class="player-count-btns">
          <button class="count-btn active" data-count="2">2 Players</button>
          <button class="count-btn" data-count="3">3 Players</button>
          <button class="count-btn" data-count="4">4 Players</button>
        </div>
        <p class="info-text">Remaining seats will be filled by bots</p>
      </div>
      
      <button id="btnCreateRoom" class="btn-primary">Create Room</button>
    </div>

    <div id="waiting-section" class="lobby-section hidden">
      <button class="btn-back" id="btnBackFromWaiting">â† Leave Room</button>
      <h2>Waiting for Players</h2>
      
      <div class="room-code-display">
        <label>Share this code with friends:</label>
        <div class="code-box">
          <span id="roomCode">----</span>
          <button id="btnCopyCode" class="btn-copy" title="Copy code">ğŸ“‹</button>
        </div>
      </div>
      
      <div class="players-list">
        <h3>Players in Room (<span id="playerCount">1</span>/<span id="maxPlayers">4</span>)</h3>
        <ul id="playersList"></ul>
      </div>
      
      <button id="btnStartGame" class="btn-primary" disabled>Waiting for players...</button>
    </div>

    <div id="join-section" class="lobby-section hidden">
      <button class="btn-back" id="btnBackFromJoin">â† Back</button>
      <h2>Join a Table</h2>
      
      <div class="join-form">
        <label for="roomCodeInput">Enter Room Code</label>
        <input type="text" id="roomCodeInput" maxlength="4" placeholder="4-digit code" autocomplete="off">
        <button id="btnJoinRoom" class="btn-primary">Join Room</button>
      </div>
      
      <p id="joinError" class="error-text hidden"></p>
    </div>

    <div id="spectate-section" class="lobby-section hidden">
      <button class="btn-back" id="btnBackFromSpectate">â† Back</button>
      <h2>Spectate a Game</h2>
      
      <div class="join-form">
        <label for="spectateCodeInput">Enter Room Code</label>
        <input type="text" id="spectateCodeInput" maxlength="4" placeholder="4-digit code" autocomplete="off">
        <button id="btnSpectateRoom" class="btn-primary">Watch Game</button>
      </div>
      
      <p class="info-text">You'll see the table, melds, and discards but not players' hands.</p>
      <p id="spectateError" class="error-text hidden"></p>
    </div>

    <div id="spectating-section" class="lobby-section hidden">
      <h2>Spectating Room: <span id="spectatingRoomCode"></span></h2>
      
      <div class="players-list">
        <h3>Players in Game</h3>
        <ul id="spectatingPlayersList"></ul>
      </div>
      
      <p class="waiting-message">Waiting for game to start...</p>
      <button id="btnLeaveSpectate" class="btn-secondary">Leave</button>
    </div>

    <div id="joined-section" class="lobby-section hidden">
      <button class="btn-back" id="btnLeaveRoom">â† Leave Room</button>
      <h2>Room: <span id="joinedRoomCode"></span></h2>
      
      <div class="players-list">
        <h3>Players in Room (<span id="joinedPlayerCount">1</span>/<span id="joinedMaxPlayers">4</span>)</h3>
        <ul id="joinedPlayersList"></ul>
      </div>
      
      <p class="waiting-message">Waiting for host to start the game...</p>
    </div>

    <div id="error-overlay" class="overlay hidden">
      <div class="overlay-content">
        <p id="errorMessage"></p>
        <button id="btnCloseError" class="btn-secondary">OK</button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="js/lobby.js"></script>
</body>
</html>
